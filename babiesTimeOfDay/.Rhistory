grouped = df %>% group_by(week = as.Date(cut(date, "week"))) %>% summarise(weekly_counts = sum(count))
ggplot(data.frame(grouped), aes(x = week, y = weekly_counts)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_x_date(limits = c(as.Date(min(df$date)),as.Date(max(df$date)-7)), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(grouped$weekly_counts)*1.1))
ggplot(subset(data.frame(grouped2), as.numeric(weekNum) > 0 & as.numeric(weekNum) < 52), aes(x = weekNum, y = weekly_counts, group = year, color = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_y_continuous(limits = c(0, max(grouped2$weekly_counts)*1.1))grouped2 = df %>% group_by(weekNum, year) %>% summarise(weekly_counts = sum(count))
grouped2 = df %>% group_by(weekNum, year) %>% summarise(weekly_counts = sum(count))
grouped2 = df %>% group_by(weekNum, year) %>% summarise(weekly_counts = sum(count))
ggplot(subset(data.frame(grouped2), as.numeric(weekNum) > 0 & as.numeric(weekNum) < 52), aes(x = weekNum, y = weekly_counts, group = year, color = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_y_continuous(limits = c(0, max(grouped2$weekly_counts)*1.1))grouped2 = df %>% group_by(weekNum, year) %>% summarise(weekly_counts = sum(count))
grouped2 = df %>% group_by(weekNum, year) %>% summarise(weekly_counts = sum(count))
df$weekNum <- format(df$date, format = "%U")
ggplot(subset(data.frame(grouped2), as.numeric(weekNum) > 0 & as.numeric(weekNum) < 52), aes(x = weekNum, y = weekly_counts, group = year, color = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_y_continuous(limits = c(0, max(grouped2$weekly_counts)*1.1))grouped2 = df %>% group_by(weekNum, year) %>% summarise(weekly_counts = sum(count))
df$weekNum <- format(df$date, format = "%U")
grouped2 = df %>% group_by(weekNum, year) %>% summarise(weekly_counts = sum(count))
ggplot(subset(data.frame(grouped2), as.numeric(weekNum) > 0 & as.numeric(weekNum) < 52), aes(x = weekNum, y = weekly_counts, group = year, color = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_y_continuous(limits = c(0, max(grouped2$weekly_counts)*1.1))grouped2 = df %>% group_by(weekNum, year) %>% summarise(weekly_counts = sum(count))
ggplot(subset(data.frame(grouped2), as.numeric(weekNum) > 0 & as.numeric(weekNum) < 52), aes(x = weekNum, y = weekly_counts, group = year, color = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_y_continuous(limits = c(0, max(grouped2$weekly_counts)*1.1))grouped2 = df %>% group_by(weekNum, year) %>% summarise(weekly_counts = sum(count))
ggplot(subset(data.frame(grouped2), as.numeric(weekNum) > 0 & as.numeric(weekNum) < 52), aes(x = weekNum, y = weekly_counts, group = year, color = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_y_continuous(limits = c(0, max(grouped2$weekly_counts)*1.1))grouped2 = df %>% group_by(weekNum, year) %>% summarise(weekly_counts = sum(count))
ggplot(subset(data.frame(grouped2), as.numeric(weekNum) > 0 & as.numeric(weekNum) < 52), aes(x = weekNum, y = weekly_counts, group = year, color = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_y_continuous(limits = c(0, max(grouped2$weekly_counts)*1.1))
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/short.txt', header = TRUE, sep = " ")
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
ggplot(temp, aes(x = Date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea")
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/short.txt', header = TRUE, sep = " ")
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
ggplot(temp, aes(x = date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea")
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/short.txt', header = TRUE, sep = " ")
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
ggplot(temp, aes(x = date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + theme(text = element_text(size=20))
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/short.txt', header = TRUE, sep = " ")
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
ggplot(temp, aes(x = date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + theme(text = element_text(size=20, family="Helvetica-Narrow"))
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/short.txt', header = TRUE, sep = " ")
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
ggplot(temp, aes(x = date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + theme(text = element_text(size=20, family="Humor Sans"))
install.packages("extrafont")
library(extrafont)
font_import()
font_import('CM Roman')
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/short.txt', header = TRUE, sep = " ")
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
ggplot(temp, aes(x = date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + theme(text = element_text(size=20, family="Helvetica"))
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/short.txt', header = TRUE, sep = " ")
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
ggplot(temp, aes(x = date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + theme(text = element_text(size=20, family="Comic Sans"))
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/short.txt', header = TRUE, sep = " ")
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
ggplot(temp, aes(x = date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + theme(text = element_text(size=20, family="CM Roman"))
font_import()
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/short.txt', header = TRUE, sep = " ")
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
ggplot(temp, aes(x = date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + theme(text = element_text(size=20, family="CM Roman"))
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/short.txt', header = TRUE, sep = " ")
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
ggplot(temp, aes(x = date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + theme(text = element_text(size=20, family="Helvetica"))
df <- read.csv('Documents/dataViz/seasonality/births/dailyUSbirths.csv', header = TRUE, as.is = TRUE)
df$date <- as.Date(paste(df$year, df$month, df$day, sep = "-"), format = "%Y-%m-%d")
df <- na.omit(df)
ggplot(df, aes(x = date, y = count)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'date') + scale_x_date(limits = c(min(df$date), max(df$date)), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(df$count)*1.1))
# just 1985
ggplot(subset(df, date > '1985-01-01' & date < '1986-01-01'), aes(x = date, y = count)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'date') + scale_x_date(limits = c(as.Date('1985-01-01'),as.Date('1986-01-01')), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(df$count)*1.1))
# weeks instead of days
y(week = as.Date(cut(date, "week"))) %>% summarise(weekly_counts = sum(count))
ggplot(data.frame(grouped), aes(x = week, y = weekly_counts)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_x_date(limits = c(as.Date(min(df$date)),as.Date(max(df$date)-7)), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(grouped$weekly_counts)*1.1))
df$weekNum <- format(df$date, format = "%U")
grouped2 = df %>% group_by(weekNum, year) %>% summarise(weekly_counts = sum(count))
ggplot(subset(data.frame(grouped2), as.numeric(weekNum) > 0 & as.numeric(weekNum) < 52), aes(x = weekNum, y = weekly_counts, group = year, color = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_y_continuous(limits = c(0, max(grouped2$weekly_counts)*1.1))
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/short.txt', header = TRUE, sep = " ")
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
ggplot(temp, aes(x = date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + theme(text = element_text(size=20, family="Helvetica"))
temp = read.table('Documents/dataViz/seasonality/c02/hourlyReadingsShort.txt', header = TRUE, sep = " ")
temp$datetime <- as.POSIXct(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
ggplot(temp, aes(x = hour, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + facet_wrap(~ date)
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/hourlyReadingsShort.txt', header = TRUE, sep = " ")
temp$datetime <- as.POSIXct(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
ggplot(temp, aes(x = hour, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + facet_wrap(~ date)
str(temp)
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/short.txt', header = TRUE, sep = " ")
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
ggplot(temp, aes(x = date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + theme(text = element_text(size=20, family="Helvetica"))
str(temp)
temp <- subset('date', 'value')
temp <- subset(select = c('date', 'value'))
str(temp)
temp <- subset(temp, select = c('date', 'value'))
str(temp)
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/short.txt', header = TRUE, sep = " ")
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
ggplot(temp, aes(x = date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + theme(text = element_text(size=20, family="Helvetica"))
temp <- subset(temp, select = c('date', 'value'))
ggplot(temp, aes(x = date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + theme(text = element_text(size=20, family="Helvetica"))
write.csv('Documents/dataViz/seasonality/c02/simple.csv', quote = FALSE, row.names = FALSE)
write.csv(temp, 'Documents/dataViz/seasonality/c02/simple.csv', quote = FALSE, row.names = FALSE)
write.csv(temp, 'Documents/dataViz/seasonality/c02/c02Daily.csv', quote = FALSE, row.names = FALSE)
df <- read.csv('Documents/dataViz/seasonality/births/dailyUSbirths.csv', header = TRUE, as.is = TRUE)
df$date <- as.Date(paste(df$year, df$month, df$day, sep = "-"), format = "%Y-%m-%d")
df <- na.omit(df)
ggplot(df, aes(x = date, y = count)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'date') + scale_x_date(limits = c(min(df$date), max(df$date)), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(df$count)*1.1))
# just 1985
ggplot(subset(df, date > '1985-01-01' & date < '1986-01-01'), aes(x = date, y = count)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'date') + scale_x_date(limits = c(as.Date('1985-01-01'),as.Date('1986-01-01')), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(df$count)*1.1))
# weeks instead of days
str(df)
write.csv(subset(df, select = c('date', 'count')), 'Documents/dataViz/projects/884bb566c84775d92b3d/dailyUSBirths.csv', row.names = FALSE, quote = FALSE)
df <- read.csv('Downloads/sample_station_data/Daily/31587_San_Francisco_International_Airport__Daily_1993_1994.csv', header = TRUE, as.is = TRUE)
str(df)
df <- subset(df, select = c('Year.Local', 'Month.Local', 'Day.Local', 'Temperature.C...High'))
str(df)
df$date <- as.Date(paste(df$Year.Local, df$Month.Local, df$Day.Local, sep = "-"), format = "%Y-%m-%d")
str(df)
df <- subset(df, select = c('date', 'Temperature.C...High'))
str(df)
write(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/SFtempDaily.csv', row.names = FALSE, as.is = FALSE)
write(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/SFtempDaily.csv', row.names = FALSE, quote = FALSE)
write.csv(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/SFtempDaily.csv', row.names = FALSE, quote = FALSE)
df$TempF <- df$Temperature.C...High * 1.8 + 32
df <- subset(df, select = c('date', 'TempF'))
write.csv(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/SFtempDaily.csv', row.names = FALSE, quote = FALSE)
df <- read.csv('Downloads/sample_station_data/Daily/31587_San_Francisco_International_Airport__Daily_1993_1994.csv', header = TRUE, as.is = TRUE)
df$date <- as.Date(paste(df$Year.Local, df$Month.Local, df$Day.Local, sep = "-"), format = "%Y-%m-%d")
df$TempF <- df$Temperature.C...High * 1.8 + 32
df <- subset(df, select = c('date', 'TempF'))
write.csv(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/SFtempDaily.csv', row.names = FALSE, quote = FALSE)
df <- read.csv('Downloads/sample_station_data/Hourly/31587_San_Francisco_International_Airport__Daily_1993_1994.csv', header = TRUE, as.is = TRUE)
df <- read.csv('Downloads/sample_station_data/Hourly/AllYears/31587_San_Francisco_International_Airport__Hourly_1993_1994.csv', header = TRUE, as.is = TRUE)
df <- read.csv('Downloads/sample_station_data/Daily/31587_San_Francisco_International_Airport__Daily_1993_1994.csv', header = TRUE, as.is = TRUE)
df$date <- as.Date(paste(df$Year.Local, df$Month.Local, df$Day.Local, df$Hour.Local, sep = "-"), format = "%Y-%m-%d-%H")
df$TempF <- df$Temperature.C...High * 1.8 + 32
df <- subset(df, select = c('date', 'TempF'))
write.csv(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/SFtempHourly.csv', row.names = FALSE, quote = FALSE)
df <- read.csv('Downloads/sample_station_data/Hourly/AllYears/31587_San_Francisco_International_Airport__Hourly_1993_1994.csv', header = TRUE, as.is = TRUE)
df$date <- as.Date(paste(df$Year.Local, df$Month.Local, df$Day.Local, df$Hour.Local, sep = "-"), format = "%Y-%m-%d-%H")
df$TempF <- df$Temperature.C...High * 1.8 + 32
df <- subset(df, select = c('date', 'TempF'))
write.csv(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/SFtempHourly.csv', row.names = FALSE, quote = FALSE)
str(df)
df <- read.csv('Downloads/sample_station_data/Hourly/AllYears/31587_San_Francisco_International_Airport__Hourly_1993_1994.csv', header = TRUE, as.is = TRUE)
df$date <- as.Date(paste(df$Year.Local, df$Month.Local, df$Day.Local, df$Hour.Local, sep = "-"), format = "%Y-%m-%d-%H")
df$TempF <- df$Temperature..C * 1.8 + 32
df <- subset(df, select = c('date', 'TempF'))
write.csv(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/SFtempHourly.csv', row.names = FALSE, quote = FALSE)
str(df)
head(df)
df <- read.csv('Downloads/sample_station_data/Hourly/AllYears/31587_San_Francisco_International_Airport__Hourly_1993_1994.csv', header = TRUE, as.is = TRUE)
str(df)
df$date <- paste(df$Year.Local, df$Month.Local, df$Day.Local, df$Hour.Local, sep = "-")
str(df)
df <- read.csv('Downloads/sample_station_data/Hourly/AllYears/31587_San_Francisco_International_Airport__Hourly_1993_1994.csv', header = TRUE, as.is = TRUE)
df$date <- paste(df$Year.Local, df$Month.Local, df$Day.Local, df$Hour.Local, sep = "-")
df$TempF <- df$Temperature..C * 1.8 + 32
df <- subset(df, select = c('date', 'TempF'))
write.csv(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/SFtempHourly.csv', row.names = FALSE, quote = FALSE)
df <- read.csv('Downloads/sample_station_data/Hourly/AllYears/31587_San_Francisco_International_Airport__Hourly_1993_1994.csv', header = TRUE, as.is = TRUE)
df$date <- paste(df$Year.Local, df$Month.Local, df$Day.Local, df$Hour.Local, sep = "-")
df$TempF <- df$Temperature..C * 1.8 + 32
df <- na.omit(df)
df <- subset(df, select = c('date', 'TempF'))
write.csv(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/SFtempHourly.csv', row.names = FALSE, quote = FALSE)
df <- read.csv('Downloads/sample_station_data/Hourly/AllYears/31587_San_Francisco_International_Airport__Hourly_1993_1994.csv', header = TRUE, as.is = TRUE)
df$date <- paste(df$Year.Local, df$Month.Local, df$Day.Local, df$Hour.Local, sep = "-")
df$TempF <- df$Temperature..C * 1.8 + 32
df <- na.omit(df)
df <- subset(df, select = c('date', 'TempF'))
write.csv(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/SFtempHourly.csv', row.names = FALSE, quote = FALSE)
df <- read.csv('Downloads/sample_station_data/Hourly/AllYears/31587_San_Francisco_International_Airport__Hourly_1993_1994.csv', header = TRUE, as.is = TRUE)
df$date <- paste(df$Year.Local, df$Month.Local, df$Day.Local, df$Hour.Local, sep = "-")
df$TempF <- df$Temperature..C * 1.8 + 32
df <- subset(df, select = c('date', 'TempF'))
df <- na.omit(df)
write.csv(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/SFtempHourly.csv', row.names = FALSE, quote = FALSE)
df <- read.csv('Downloads/sample_station_data/Hourly/AllYears/30954_Dane_County_Regional_Airport__Hourly_1993_1994.csv', header = TRUE, as.is = TRUE)
df$date <- paste(df$Year.Local, df$Month.Local, df$Day.Local, df$Hour.Local, sep = "-")
df$TempF <- df$Temperature..C * 1.8 + 32
df <- subset(df, select = c('date', 'TempF'))
df <- na.omit(df)
write.csv(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/WisconsintempHourly.csv', row.names = FALSE, quote = FALSE)
df <- read.csv('Downloads/sample_station_data/Hourly/AllYears/30954_Dane_County_Regional_Airport__Hourly_1993_1994.csv', header = TRUE, as.is = TRUE)
df$date <- paste(df$Year.Local, df$Month.Local, df$Day.Local, df$Hour.Local, sep = "-")
df$TempF <- df$Temperature..C * 1.8 + 32
str(df)
df <- subset(df, select = c('date', 'Cloud.Cover.Fraction'))
df <- na.omit(df)
write.csv(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/WisconsinCloudHourly.csv', row.names = FALSE, quote = FALSE)
str(df)
df <- subset(df, Cloud.Cover.Fraction >= 0)
df <- subset(df, Cloud.Cover.Fraction <= 1)
write.csv(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/WisconsinCloudHourly.csv', row.names = FALSE, quote = FALSE)
df <- read.table('work/stamen/lakeTahoeR/dataRiverA.tsv', header = TRUE, as.is = TRUE, sep = '\t')
str(df)
df <- read.table('work/stamen/lakeTahoeR/dataRiverA.tsv', header = TRUE, as.is = TRUE, sep = '\t')
str(df)
head(df)
head(df)
df <- read.table('work/stamen/lakeTahoeR/dataRiverA.tsv', header = TRUE, as.is = TRUE, sep = '\t')
head(df)
require(ggplot2)
str(df)
ggplot(df, aes(x = datetime, y=Temperature)) + geom_point()
ggplot(df, aes(x = datetime, y=Temperature)) + geom_point()
ggplot(df, aes(x = datetime, y=Discharge)) + geom_point()
ggplot(df, aes(x = datetime, y=Temperature)) + geom_point()
ggplot(df, aes(x = datetime, y=Temperature)) + geom_point() + theme_bw()
ggplot(df, aes(x = datetime, y=Temperature)) + geom_point()
ggplot(df, aes(x = datetime, y=Discharge)) + geom_point()
ggplot(df, aes(x = datetime, y=Discharge)) + geom_point()
df <- read.table('work/stamen/lakeTahoeR/dataRiverB.tsv', header = TRUE, as.is = TRUE, sep = '\t')
require(ggplot2)
ggplot(df, aes(x = datetime, y=Discharge)) + geom_point()
df <- read.table('work/stamen/lakeTahoeR/dataRiverB.tsv', header = TRUE, as.is = TRUE, sep = '\t')
require(ggplot2)
ggplot(df, aes(x = datetime, y=Discharge)) + geom_point()
ggplot(df, aes(x = datetime, y=Temperature)) + geom_point()
df <- read.table('work/stamen/lakeTahoeR/dataRiverC.tsv', header = TRUE, as.is = TRUE, sep = '\t')
require(ggplot2)
ggplot(df, aes(x = datetime, y=Discharge)) + geom_point()
df <- read.table('work/stamen/lakeTahoeR/dataRiverC.tsv', header = TRUE, as.is = TRUE, sep = '\t')
require(ggplot2)
ggplot(df, aes(x = datetime, y=Discharge)) + geom_point()
ggplot(df, aes(x = datetime, y=Temperature)) + geom_point()
df <- read.table('work/stamen/lakeTahoeR/dataRiverD.tsv', header = TRUE, as.is = TRUE, sep = '\t')
require(ggplot2)
ggplot(df, aes(x = datetime, y=Discharge)) + geom_point()
ggplot(df, aes(x = datetime, y=Temperature)) + geom_point()
df <- read.table('work/stamen/lakeTahoeR/dataRiverE.tsv', header = TRUE, as.is = TRUE, sep = '\t')
require(ggplot2)
ggplot(df, aes(x = datetime, y=Discharge)) + geom_point()
ggplot(df, aes(x = datetime, y=Temperature)) + geom_point()
ggplot(df, aes(x = datetime, y=Discharge)) + geom_point()
ggplot(df, aes(x = datetime, y=Temperature)) + geom_point()
str(df)
dfA <- read.table('work/stamen/lakeTahoeR/dataRiverA.tsv', header = TRUE, as.is = TRUE, sep = '\t')
dfB <- read.table('work/stamen/lakeTahoeR/dataRiverB.tsv', header = TRUE, as.is = TRUE, sep = '\t')
dfC <- read.table('work/stamen/lakeTahoeR/dataRiverC.tsv', header = TRUE, as.is = TRUE, sep = '\t')
dfD <- read.table('work/stamen/lakeTahoeR/dataRiverD.tsv', header = TRUE, as.is = TRUE, sep = '\t')
dfE <- read.table('work/stamen/lakeTahoeR/dataRiverE.tsv', header = TRUE, as.is = TRUE, sep = '\t')
df <- rbind(dfA, dfB)
str(df)
unique(df$site_no)
df <- rbind(rbind(rbind(dfA, dfB), dfC, dfD, dfE)
)
df <- rbind(rbind(rbind(rbind(dfA, dfB), dfC), dfD), dfE)
str(df)
ggplot(df, aes(x = datetime, y=Discharge, color = site_no)) + geom_point()
ggplot(df, aes(x = datetime, y=Discharge, color = site_no)) + geom_point()dfA <- read.table('work/stamen/lakeTahoeR/dataRiverA.tsv', header = TRUE, as.is = TRUE, sep = '\t')
dfB <- read.table('work/stamen/lakeTahoeR/dataRiverB.tsv', header = TRUE, as.is = TRUE, sep = '\t')
dfC <- read.table('work/stamen/lakeTahoeR/dataRiverC.tsv', header = TRUE, as.is = TRUE, sep = '\t')
dfD <- read.table('work/stamen/lakeTahoeR/dataRiverD.tsv', header = TRUE, as.is = TRUE, sep = '\t')
dfE <- read.table('work/stamen/lakeTahoeR/dataRiverE.tsv', header = TRUE, as.is = TRUE, sep = '\t')
df <- rbind(rbind(rbind(rbind(dfA, dfB), dfC), dfD), dfE)
require(ggplot2)
ggplot(df, aes(x = datetime, y=Discharge, color = site_no)) + geom_point()
ggplot(df, aes(x = datetime, y=Discharge, color = site_no)) + geom_point()dfA <- read.table('work/stamen/lakeTahoeR/dataRiverA.tsv', header = TRUE, as.is = TRUE, sep = '\t')
dfB <- read.table('work/stamen/lakeTahoeR/dataRiverB.tsv', header = TRUE, as.is = TRUE, sep = '\t')
dfC <- read.table('work/stamen/lakeTahoeR/dataRiverC.tsv', header = TRUE, as.is = TRUE, sep = '\t')
dfD <- read.table('work/stamen/lakeTahoeR/dataRiverD.tsv', header = TRUE, as.is = TRUE, sep = '\t')
dfE <- read.table('work/stamen/lakeTahoeR/dataRiverE.tsv', header = TRUE, as.is = TRUE, sep = '\t')
df <- rbind(rbind(rbind(rbind(dfA, dfB), dfC), dfD), dfE)
require(ggplot2)
ggplot(df, aes(x = datetime, y=Discharge, color = site_no)) + geom_point() + scale_color_hue()
ggplot(df, aes(x = datetime, y=Discharge, color = site_no)) + geom_point() + scale_colour_manual(values="blues")
ggplot(df, aes(x = datetime, y=Discharge, color = site_no)) + geom_point() + scale_colour_brewer(palette="Blues")
dfA <- read.table('work/stamen/lakeTahoeR/dataRiverA.tsv', header = TRUE, as.is = TRUE, sep = '\t')
dfB <- read.table('work/stamen/lakeTahoeR/dataRiverB.tsv', header = TRUE, as.is = TRUE, sep = '\t')
dfC <- read.table('work/stamen/lakeTahoeR/dataRiverC.tsv', header = TRUE, as.is = TRUE, sep = '\t')
dfD <- read.table('work/stamen/lakeTahoeR/dataRiverD.tsv', header = TRUE, as.is = TRUE, sep = '\t')
dfE <- read.table('work/stamen/lakeTahoeR/dataRiverE.tsv', header = TRUE, as.is = TRUE, sep = '\t')
df <- rbind(rbind(rbind(rbind(dfA, dfB), dfC), dfD), dfE)
unique(df$site_no)
require(ggplot2)
ggplot(df, aes(x = datetime, y=Discharge, color = site_no)) + geom_point() + scale_colour_brewer(palette="Blues")
require(ggplot2)
ggplot(df, aes(x = datetime, y=Discharge, color = Temperature)) + geom_point() + scale_colour_brewer(palette="Blues")
require(ggplot2)
ggplot(df, aes(x = datetime, y=Discharge, color = Temperature)) + geom_point()
require(ggplot2)
ggplot(df, aes(x = datetime, y=Discharge, color = Temperature)) + geom_point() + scale_colour_gradient(limits=c(3, 4))
require(ggplot2)
ggplot(df, aes(x = datetime, y=Discharge, color = Temperature)) + geom_point() + scale_colour_gradient(low="blue", high="grey")
ggplot(df, aes(x = datetime, y=Discharge, color = site_no)) + geom_point() + scale_colour_brewer(palette="Blues")
ggplot(df, aes(x = datetime, y=Temperature, color = site_no)) + geom_point() + scale_colour_brewer(palette="Blues")
ggplot(df, aes(x = datetime, y=Discharge, color = site_no)) + geom_point() + scale_colour_brewer(palette="Blues")
require(ggplot2)
ggplot(df, aes(x = datetime, y=Discharge, color = Temperature)) + geom_point() + scale_colour_gradient(low="blue", high="grey")
require(ggplot2)
ggplot(df, aes(x = datetime, y=Discharge, color = Temperature)) + geom_point() + scale_colour_gradient(low="lightblue", high="grey")
require(ggplot2)
ggplot(df, aes(x = datetime, y=Discharge, color = Temperature)) + geom_point() + scale_colour_gradient(low="lightblue", high="blue")
ggplot(df, aes(x = datetime, y= Temperature, size = Discharge, color = site_no)) + geom_point() + scale_colour_gradient(low="lightblue", high="blue")
ggplot(df, aes(x = datetime, y= Temperature, size = Discharge, color = site_no)) + geom_point()
ggplot(df, aes(x = datetime, y= Temperature, size = Discharge, color = site_no)) + geom_point() + scale_color_brewer(palette="blues")
ggplot(df, aes(x = datetime, y= Temperature, size = Discharge, color = site_no)) + geom_point() + scale_color_brewer(palette="Blues")
ggplot(df, aes(x = datetime, y= Temperature, size = Discharge, color = site_no)) + geom_point() + scale_color_brewer(palette="Blues") + scale_size(range = c(1, 10))
ggplot(df, aes(x = datetime, y= Temperature, size = Discharge, color = site_no)) + geom_point() + scale_color_brewer(palette="Greens") + scale_size(range = c(1, 10))
ggplot(df, aes(x = datetime, y= Temperature, size = Discharge)) + geom_point() + scale_color_brewer(palette="Greens") + scale_size(range = c(1, 10)) + facet_wrap(~ site_no)
ggplot(df, aes(x = datetime, y= Temperature, size = Discharge)) + geom_point() + scale_color_brewer(palette="Greens") + scale_size(range = c(1, 6)) + facet_wrap(~ site_no)
ggplot(df, aes(x = datetime, y= Temperature, size = Discharge, color="lightblue")) + geom_point() + scale_color_brewer(palette="Greens") + scale_size(range = c(1, 6)) + facet_wrap(~ site_no)
ggplot(df, aes(x = datetime, y= Temperature, size = Discharge)) + geom_point(color="lightblue") + scale_color_brewer(palette="Greens") + scale_size(range = c(1, 6)) + facet_wrap(~ site_no)
ggplot(df, aes(x = datetime, y= Temperature, size = Discharge)) + geom_point(color="lightblue")  + scale_size(range = c(1, 6)) + facet_wrap(~ site_no)
ggplot(df, aes(x = datetime, y= Temperature, size = Discharge)) + geom_line(color="lightblue")  + scale_size(range = c(1, 6)) + facet_wrap(~ site_no)
ggplot(df, aes(x = datetime, y= Temperature, size = Discharge)) + geom_line() + facet_wrap( ~ site_no)
df2<-data.frame(x=1:10,y=1:10,z=c(1,1,1,2,2,2,3,3,4,4))
ggplot(df2,aes(x,y,size=z))+geom_line()
str(df)
ggplot(subset(df, site_no="UpperTruckeeRiver", aes(x = datetime, y= Temperature, size = Discharge)) + geom_line() + facet_wrap( ~ site_no)
)
ggplot(subset(df, site_no=="UpperTruckeeRiver"), aes(x = datetime, y= Temperature, size = Discharge)) + geom_line()
ggplot(subset(df, site_no=="UpperTruckeeRiver"), aes(x = datetime, y= Temperature, size = as.numeric(Discharge))) + geom_line()
df2<-data.frame(x=1:10,y=1:10,z=c(1,1,1,2,2,2,3,3,4,4))
ggplot(df2,aes(x,y,size=z))+geom_line()
df2<-data.frame(x=1:10,y=1:10,z=c(1,10,1,2,2,2,3,3,4,4))
ggplot(df2,aes(x,y,size=z))+geom_line()
df2<-data.frame(x=1:10,y=1:10,z=c(1,10,1,2,2,2,3,3,0,4))
ggplot(df2,aes(x,y,size=z))+geom_line()
df2<-data.frame(x=1:10,y=1:10,z=c(1,10,1,2,2,2,3,3,1,4))
ggplot(df2,aes(x,y,size=z))+geom_line()
ggplot(df, aes(x = datetime, y=Temperature, color = site_no)) + geom_point() + scale_colour_brewer(palette="Blues")
ggplot(df, aes(x = datetime, y=Temperature, color = site_no)) + geom_line() + scale_colour_brewer(palette="Blues")
ggplot(df, aes(x = datetime, y=Temperature, group = site_no)) + geom_line() + scale_colour_brewer(palette="Blues")
ggplot(df, aes(x = datetime, y=Temperature, group = site_no, color = site_no)) + geom_line() + scale_colour_brewer(palette="Blues")
ggplot(df, aes(x = datetime, y=Temperature, color = site_no)) + geom_point() + scale_colour_brewer(palette="Blues")
ggplot(df, aes(x = Temperature, y=Discharge, color = site_no)) + geom_point() + scale_colour_brewer(palette="Blues")
ggplot(df, aes(x = Temperature, y=Discharge, color = site_no)) + geom_point() + scale_colour_brewer(palette="Blues") + facet_wrap( ~ site_no)
ggplot(df, aes(x = Temperature, y=Discharge)) + geom_point(color="blue") + scale_colour_brewer(palette="Blues") + facet_wrap( ~ site_no)
ggplot(df, aes(x = Temperature, y=Discharge)) + geom_point(color="lightblue") + scale_colour_brewer(palette="Blues") + facet_wrap( ~ site_no)
ggplot(df, aes(x = Discharge, y=Temperature)) + geom_point(color="lightblue") + scale_colour_brewer(palette="Blues") + facet_wrap( ~ site_no)
ggplot(df, aes(x = Discharge, y=Temperature)) + geom_point(color="#6495ed") + scale_colour_brewer(palette="Blues") + facet_wrap( ~ site_no)
ggplot(df, aes(x = Discharge, y=Temperature)) + geom_point(color="#6495ed") + scale_colour_brewer(palette="Blues") + facet_wrap( ~ site_no, scales = "free_x")
ggplot(df, aes(x = Discharge, y=Temperature)) + geom_point(color="#6495ed") + scale_colour_brewer(palette="Blues") + facet_wrap( ~ site_no)
ggplot(df, aes(x = Discharge, y=Temperature, color=datetime)) + geom_point(color="#6495ed") + scale_colour_brewer(palette="Blues") + facet_wrap( ~ site_no)
ggplot(df, aes(x = Discharge, y=Temperature, color=datetime)) + geom_point() + scale_colour_brewer(palette="Blues") + facet_wrap( ~ site_no)
ggplot(df, aes(x = Discharge, y=Temperature, color=datetime)) + geom_point() + facet_wrap( ~ site_no)
ggplot(df, aes(x = Discharge, y=Temperature, color=datetime)) + geom_point() + facet_wrap( ~ site_no) + scales(guide=FALSE)
ggplot(df, aes(x = Discharge, y=Temperature, color=datetime)) + geom_point() + facet_wrap( ~ site_no) + scale_colour_continuous(guide=FALSE)
ggplot(df, aes(x = Discharge, y=Temperature, color=datetime)) + geom_point() + facet_wrap( ~ site_no) + scale_colour_discrete(guide=FALSE)
ggplot(subset(df, site_no=="UpperTruckeeRiver"), aes(x = datetime, y= Temperature, size = as.numeric(Discharge))) + geom_line()
ggplot(subset(df, site_no=="UpperTruckeeRiver"), aes(x = datetime, y= Temperature, group=site_no, size = as.numeric(Discharge))) + geom_line()
ggplot(subset(df, site_no=="UpperTruckeeRiver"), aes(x = datetime, y= Temperature, group=site_no, size = as.numeric(Discharge))) + geom_line() + scale_size(range=c(1,20))
ggplot(subset(df, site_no=="UpperTruckeeRiver"), aes(x = datetime, y= site_no, group=site_no, size = as.numeric(Discharge))) + geom_line() + scale_size(range=c(1,20))
ggplot(subset(df), aes(x = datetime, y= site_no, group=site_no, size = as.numeric(Discharge))) + geom_line() + scale_size(range=c(1,20))
ggplot(subset(df), aes(x = datetime, y= site_no, group=site_no, size = as.numeric(Discharge))) + geom_line() + scale_size(range=c(1,40))
ggplot(subset(df), aes(x = datetime, y= site_no, group=site_no, color=Temperature, size = as.numeric(Discharge))) + geom_line() + scale_size(range=c(1,40))
ggplot(subset(df, site_no=="UpperTruckeeRiver"), aes(x = datetime, y= site_no, group=site_no, size = as.numeric(Discharge))) + geom_line() + scale_size(range=c(1,20))
ggplot(subset(df, site_no=="UpperTruckeeRiver"), aes(x = datetime, y= Temperature, group=site_no, size = as.numeric(Discharge))) + geom_line() + scale_size(range=c(1,20))
ggplot(subset(df, site_no=="UpperTruckeeRiver"), aes(x = datetime, y= Discharge, color=Temperature, group=site_no, size = as.numeric(Discharge))) + geom_line() + scale_size(range=c(1,20))
ggplot(subset(df), aes(x = datetime, y= Discharge, color=Temperature, group=site_no, size = as.numeric(Discharge))) + geom_line() + scale_size(range=c(1,20)) + facet_wrap( ~ site_no)
ggplot(subset(df), aes(x = datetime, y= Discharge, color=Temperature, group=site_no, size = as.numeric(Discharge))) + geom_line() + scale_size(range=c(1,20)) + facet_wrap( ~ site_no)
ggplot(subset(df), aes(x = datetime, y= Discharge, color=Temperature, group=site_no, size = as.numeric(Discharge))) + geom_line() + scale_size(range=c(1,10)) + facet_wrap( ~ site_no)
ggplot(subset(df, site_no=="UpperTruckeeRiver"), aes(x = datetime, y= Discharge, color=Temperature, group=site_no, size = as.numeric(Discharge))) + geom_line() + scale_size(range=c(1,20))
ggplot(subset(df, site_no=="UpperTruckeeRiver"), aes(x = datetime, y= Discharge, color=Temperature, group=site_no, size = log(as.numeric(Discharge)))) + geom_line() + scale_size(range=c(1,20))
ggplot(subset(df, site_no=="UpperTruckeeRiver"), aes(x = datetime, y= Discharge, color=Temperature, group=site_no, size = as.numeric(Discharge))) + geom_line() + scale_size(range=c(1,20))
ggplot(subset(df, site_no=="UpperTruckeeRiver"), aes(x = datetime, y= Discharge, color=Temperature, group=site_no, size = as.numeric(Discharge))) + geom_line() + scale_size(range=c(.1,30))
ggplot(subset(df, site_no=="UpperTruckeeRiver"), aes(x = datetime, y= Temperature, color=Temperature, group=site_no, size = as.numeric(Discharge))) + geom_line() + scale_size(range=c(.1,30))
ggplot(df, aes(x = datetime, y= Temperature, color=Temperature, group=site_no, size = as.numeric(Discharge))) + geom_line() + scale_size(range=c(.1,30)) + facet_wrap(~ site_no)
ggplot(df, aes(x = datetime, y= Temperature, color=Temperature, group=site_no, size = as.numeric(Discharge))) + geom_line() + scale_size(range=c(.1,15)) + facet_wrap(~ site_no)
ggplot(df, aes(x = datetime, y= Discharge, color=Temperature, group=site_no, size = as.numeric(Discharge))) + geom_line() + scale_size(range=c(.1,15)) + facet_wrap(~ site_no)
getData <- function(filename){
df <- read.csv(filename, header = TRUE, as.is = TRUE)
df <- gather(df, dayOfWeek, value, Total:Saturday)
df <- na.omit(df)
df <- cast(df, DOB_WK ~ dayOfWeek, sum)
df <- gather(df, dayOfWeek, value, Friday:Wednesday)
df <- subset(df, DOB_WK != 'Not stated')
df <- subset(df, DOB_WK != 'Not on certificate')
df <- subset(df, DOB_WK != 'Total')
df$hourmin <- strptime(df$DOB_WK, '%H%M', tz="GMT")
df$dayOfWeek <- factor(df$dayOfWeek,
levels = c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"))
df <- subset(df, dayOfWeek != 'Total')
return(df)
}
plotBabyData <- function(mainTitle){
ggplot(subset(df, dayOfWeek != 'Total'), aes(x=hourmin, y = value, color = dayOfWeek)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies", title = mainTitle) + coord_cartesian(ylim=c(0,1100)) + theme(axis.text=element_text(size=18), title=element_text(size=24)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 20)) + scale_color_manual(values = c('#8B4513','#8B4513','#8B4513','#8B4513','#8B4513', 'steelblue','steelblue'))+ theme(legend.position="none")
}
getwd()
setwd('Documents/dataViz/everything-is-seasonal/babiesTimeOfDay/')
df <- getData('allBirths.csv')
plotBabyData("Babies born by Minute and Day of Week in 2014")
require(ggplot2)
require(tidyr)
df <- getData('allBirths.csv')
plotBabyData("Babies born by Minute and Day of Week in 2014")
require(reshape)
df <- getData('allBirths.csv')
plotBabyData("Babies born by Minute and Day of Week in 2014")
df <- getData('allBirths.csv')
plotBabyData("Babies born by Minute and Day of Week in 2014")
plotBabyData <- function(mainTitle){
ggplot(subset(df, dayOfWeek != 'Total'), aes(x=hourmin, y = value, color = dayOfWeek)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies", title = mainTitle) + scale_y_continuous(expand = c(0, 1100)) + coord_cartesian(ylim=c(0,1100)) + theme(axis.text=element_text(size=18), title=element_text(size=24)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 20)) + scale_color_manual(values = c('#8B4513','#8B4513','#8B4513','#8B4513','#8B4513', 'steelblue','steelblue'))+ theme(legend.position="none")
}
df <- getData('allBirths.csv')
plotBabyData("Babies born by Minute and Day of Week in 2014")
plotBabyData <- function(mainTitle){
ggplot(subset(df, dayOfWeek != 'Total'), aes(x=hourmin, y = value, color = dayOfWeek)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies", title = mainTitle) + scale_y_continuous(expand = c(0, 1100), limits =c(0,1100)) + coord_cartesian(ylim=c(0,1100)) + theme(axis.text=element_text(size=18), title=element_text(size=24)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 20)) + scale_color_manual(values = c('#8B4513','#8B4513','#8B4513','#8B4513','#8B4513', 'steelblue','steelblue'))+ theme(legend.position="none")
}
df <- getData('allBirths.csv')
plotBabyData("Babies born by Minute and Day of Week in 2014")
plotBabyData <- function(mainTitle){
ggplot(subset(df, dayOfWeek != 'Total'), aes(x=hourmin, y = value, color = dayOfWeek)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies", title = mainTitle) + scale_y_continuous(expand = c(0, 0), limits =c(0,1100)) + coord_cartesian(ylim=c(0,1100)) + theme(axis.text=element_text(size=18), title=element_text(size=24)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 20)) + scale_color_manual(values = c('#8B4513','#8B4513','#8B4513','#8B4513','#8B4513', 'steelblue','steelblue'))+ theme(legend.position="none")
}
plotBabyData("Babies born by Minute and Day of Week in 2014")
require(ggplot2)
require(tidyr)
require(reshape)
getData <- function(filename){
df <- read.csv(filename, header = TRUE, as.is = TRUE)
df <- gather(df, dayOfWeek, value, Total:Saturday)
df <- na.omit(df)
df <- cast(df, DOB_WK ~ dayOfWeek, sum)
df <- gather(df, dayOfWeek, value, Friday:Wednesday)
df <- subset(df, DOB_WK != 'Not stated')
df <- subset(df, DOB_WK != 'Not on certificate')
df <- subset(df, DOB_WK != 'Total')
df$hourmin <- strptime(df$DOB_WK, '%H%M', tz="GMT")
df$dayOfWeek <- factor(df$dayOfWeek,
levels = c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"))
df <- subset(df, dayOfWeek != 'Total')
return(df)
}
plotBabyData <- function(mainTitle){
ggplot(subset(df, dayOfWeek != 'Total'), aes(x=hourmin, y = value, color = dayOfWeek)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies", title = mainTitle) + scale_y_continuous(expand = c(0, 0), limits =c(0,1200)) + theme(axis.text=element_text(size=18), title=element_text(size=24)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 20)) + scale_color_manual(values = c('#8B4513','#8B4513','#8B4513','#8B4513','#8B4513', 'steelblue','steelblue'))+ theme(legend.position="none")
}
df <- getData('allBirths.csv')
plotBabyData("Babies born by Minute and Day of Week in 2014")
plotBabyData <- function(mainTitle){
ggplot(subset(df, dayOfWeek != 'Total'), aes(x=hourmin, y = value, color = dayOfWeek)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies", title = mainTitle) + scale_y_continuous(expand = c(0, 0), limits =c(0,1200)) + theme(axis.text=element_text(size=16), title=element_text(size=24)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 20)) + scale_color_manual(values = c('#8B4513','#8B4513','#8B4513','#8B4513','#8B4513', 'steelblue','steelblue'))+ theme(legend.position="none")
}
df <- getData('allBirths.csv')
plotBabyData("Babies born by Minute and Day of Week in 2014")
plotBabyData <- function(mainTitle){
ggplot(subset(df, dayOfWeek != 'Total'), aes(x=hourmin, y = value, color = dayOfWeek)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H") + labs(x="Time of Day", y="Number of Babies", title = mainTitle) + scale_y_continuous(expand = c(0, 0), limits =c(0,1200)) + theme(axis.text=element_text(size=16), title=element_text(size=24)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 20)) + scale_color_manual(values = c('#8B4513','#8B4513','#8B4513','#8B4513','#8B4513', 'steelblue','steelblue'))+ theme(legend.position="none")
}
df <- getData('allBirths.csv')
plotBabyData("Babies born by Minute and Day of Week in 2014")
plotBabyData <- function(mainTitle){
ggplot(subset(df, dayOfWeek != 'Total'), aes(x=hourmin, y = value, color = dayOfWeek)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = c('midnight', '6am', 'noon', '6pm', 'midnight')) + labs(x="Time of Day", y="Number of Babies", title = mainTitle) + scale_y_continuous(expand = c(0, 0), limits =c(0,1200)) + theme(axis.text=element_text(size=16), title=element_text(size=24)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 20)) + scale_color_manual(values = c('#8B4513','#8B4513','#8B4513','#8B4513','#8B4513', 'steelblue','steelblue'))+ theme(legend.position="none")
}
df <- getData('allBirths.csv')
plotBabyData("Babies born by Minute and Day of Week in 2014")
plotBabyData <- function(mainTitle){
ggplot(subset(df, dayOfWeek != 'Total'), aes(x=hourmin, y = value, color = dayOfWeek)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = c('', '6am', 'noon', '6pm', 'midnight')) + labs(x="Time of Day", y="Number of Babies", title = mainTitle) + scale_y_continuous(expand = c(0, 0), limits =c(0,1200)) + theme(axis.text=element_text(size=16), title=element_text(size=24)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 20)) + scale_color_manual(values = c('#8B4513','#8B4513','#8B4513','#8B4513','#8B4513', 'steelblue','steelblue'))+ theme(legend.position="none")
}
plotBabyData("Babies born by Minute and Day of Week in 2014")
plotBabyData <- function(mainTitle){
ggplot(subset(df, dayOfWeek != 'Total'), aes(x=hourmin, y = value, color = dayOfWeek)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = c(' ', '6am', 'noon', '6pm', 'midnight')) + labs(x="Time of Day", y="Number of Babies", title = mainTitle) + scale_y_continuous(expand = c(0, 0), limits =c(0,1200)) + theme(axis.text=element_text(size=16), title=element_text(size=24)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 20)) + scale_color_manual(values = c('#8B4513','#8B4513','#8B4513','#8B4513','#8B4513', 'steelblue','steelblue'))+ theme(legend.position="none")
}
df <- getData('allBirths.csv')
plotBabyData("Babies born by Minute and Day of Week in 2014")
plotBabyData <- function(mainTitle){
ggplot(subset(df, dayOfWeek != 'Total'), aes(x=hourmin, y = value, color = dayOfWeek)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = c('12am', '6am', 'noon', '6pm', '12am')) + labs(x="Time of Day", y="Number of Babies", title = mainTitle) + scale_y_continuous(expand = c(0, 0), limits =c(0,1200)) + theme(axis.text=element_text(size=16), title=element_text(size=24)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 20)) + scale_color_manual(values = c('#8B4513','#8B4513','#8B4513','#8B4513','#8B4513', 'steelblue','steelblue'))+ theme(legend.position="none")
}
df <- getData('allBirths.csv')
plotBabyData("Babies born by Minute and Day of Week in 2014")
plotBabyData <- function(mainTitle){
ggplot(subset(df, dayOfWeek != 'Total'), aes(x=hourmin, y = value, color = dayOfWeek)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = c('12am', '6am', 'noon', '6pm', ' ')) + labs(x="Time of Day", y="Number of Babies", title = mainTitle) + scale_y_continuous(expand = c(0, 0), limits =c(0,1200)) + theme(axis.text=element_text(size=16), title=element_text(size=24)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 20)) + scale_color_manual(values = c('#8B4513','#8B4513','#8B4513','#8B4513','#8B4513', 'steelblue','steelblue'))+ theme(legend.position="none")
}
df <- getData('allBirths.csv')
plotBabyData("Babies born by Minute and Day of Week in 2014")
plotBabyData <- function(mainTitle){
ggplot(subset(df, dayOfWeek != 'Total'), aes(x=hourmin, y = value, color = dayOfWeek)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = c('12', '6am', 'noon', '6pm', '12')) + labs(x="Time of Day", y="Number of Babies", title = mainTitle) + scale_y_continuous(expand = c(0, 0), limits =c(0,1200)) + theme(axis.text=element_text(size=16), title=element_text(size=24)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 20)) + scale_color_manual(values = c('#8B4513','#8B4513','#8B4513','#8B4513','#8B4513', 'steelblue','steelblue'))+ theme(legend.position="none")
}
df <- getData('allBirths.csv')
plotBabyData("Babies born by Minute and Day of Week in 2014")
df <- getData('allBirths.csv')
plotBabyData("Babies born by Minute and Day of Week in 2014")
ggplot(subset(df, dayOfWeek == 'Saturday'), aes(x=hourmin, y = value)) + geom_point(alpha = .3, color = 'steelblue') + theme_bw() +scale_x_datetime(date_labels = c('12', '6am', 'noon', '6pm', '12')) + labs(x="Birth Hour/Minute", y="Number of Babies Born", title = "Number of Babies born per Minute for Saturdays in 2014")+ scale_y_continuous(expand = c(0, 0), limits =c(0,1200))  + theme(axis.text=element_text(size=14), title=element_text(size=18)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 14))
ggplot(subset(df, dayOfWeek == 'Saturday'), aes(x=hourmin, y = value)) + geom_point(alpha = .3, color = 'steelblue') + theme_bw() +scale_x_datetime(date_labels = c('midnight', '6am', 'noon', '6pm', 'midnight')) + labs(x="Birth Hour/Minute", y="Number of Babies Born", title = "Number of Babies born per Minute for Saturdays in 2014")+ scale_y_continuous(expand = c(0, 0), limits =c(0,1200))  + theme(axis.text=element_text(size=14), title=element_text(size=18)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 14))
ggplot(subset(df, dayOfWeek %in% c('Saturday', 'Monday')), aes(x=hourmin, y = value, color = dayOfWeek)) + geom_point(alpha = .3) + theme_bw() + scale_x_datetime(date_labels = c('midnight', '6am', 'noon', '6pm', 'midnight'))  + labs(x="Birth Hour/Minute", y="Number of Babies Born", title = "Babies born per Minute: Mondays and Saturdays in 2014") + scale_y_continuous(expand = c(0, 0), limits =c(0,1200))  + theme(axis.text=element_text(size=18), title=element_text(size=24)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 20)) + scale_color_manual(values = c('#8B4513', 'steelblue'))+ theme(legend.position="none")
plotBabyData("Babies born by Minute and Day of Week in 2014")
ggplot(subset(df, dayOfWeek == 'Saturday'), aes(x=hourmin, y = value)) + geom_point(alpha = .3, color = 'steelblue') + theme_bw() +scale_x_datetime(date_labels = c('midnight', '6am', 'noon', '6pm', 'midnight')) + labs(x="Birth Hour/Minute", y="Number of Babies Born", title = "Number of Babies born per Minute for Saturdays in 2014")+ scale_y_continuous(expand = c(0, 0), limits =c(0,1200))  + theme(axis.text=element_text(size=18), title=element_text(size=18)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 14))
ggplot(subset(df, dayOfWeek %in% c('Saturday', 'Monday')), aes(x=hourmin, y = value, color = dayOfWeek)) + geom_point(alpha = .3) + theme_bw() + scale_x_datetime(date_labels = c('midnight', '6am', 'noon', '6pm', 'midnight'))  + labs(x="Birth Hour/Minute", y="Number of Babies Born", title = "Babies born per Minute: Mondays and Saturdays in 2014") + scale_y_continuous(expand = c(0, 0), limits =c(0,1200))  + theme(axis.text=element_text(size=18), title=element_text(size=24)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 20)) + scale_color_manual(values = c('#8B4513', 'steelblue'))+ theme(legend.position="none")
ggplot(subset(df, dayOfWeek == 'Saturday'), aes(x=hourmin, y = value)) + geom_point(alpha = .3, color = 'steelblue') + theme_bw() +scale_x_datetime(date_labels = c('midnight', '6am', 'noon', '6pm', 'midnight')) + labs(x="Birth Hour/Minute", y="Number of Babies Born", title = "Number of Babies born per Minute for Saturdays in 2014")+ scale_y_continuous(expand = c(0, 0), limits =c(0,1200))  + theme(axis.text=element_text(size=18), title=element_text(size=24)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 20))
k = c(as.numeric(as.POSIXct(60 * 60 * 8, origin="2016-04-19", za="GMT")), as.numeric(as.POSIXct(60 * 60 * 12.75, origin="2016-04-19", za="GMT")), as.numeric(as.POSIXct(60 * 60 * 17.5, origin="2016-04-19", za="GMT")))
ggplot(subset(df, dayOfWeek != 'Total'), aes(x=hourmin, y = value, color = dayOfWeek)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = c('12', '6am', 'noon', '6pm', '12'))+ labs(x="Time of Day", y="Number of Babies", title = "Babies born in 2014, by minute and day of week") + scale_y_continuous(expand = c(0, 0), limits =c(0,1200))  + theme(axis.text=element_text(size=18), title=element_text(size=24)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 20)) + scale_color_manual(values = c('#8B4513','#8B4513','#8B4513','#8B4513','#8B4513', 'steelblue','steelblue'))+ theme(legend.position="none") + geom_vline(xintercept = k, color = 'brown')
k = c(as.numeric(as.POSIXct(60 * 60 * 8, origin="2016-04-22", za="GMT")), as.numeric(as.POSIXct(60 * 60 * 12.75, origin="2016-04-22", za="GMT")), as.numeric(as.POSIXct(60 * 60 * 17.5, origin="2016-04-22", za="GMT")))
ggplot(subset(df, dayOfWeek != 'Total'), aes(x=hourmin, y = value, color = dayOfWeek)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = c('12', '6am', 'noon', '6pm', '12'))+ labs(x="Time of Day", y="Number of Babies", title = "Babies born in 2014, by minute and day of week") + scale_y_continuous(expand = c(0, 0), limits =c(0,1200))  + theme(axis.text=element_text(size=18), title=element_text(size=24)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 20)) + scale_color_manual(values = c('#8B4513','#8B4513','#8B4513','#8B4513','#8B4513', 'steelblue','steelblue'))+ theme(legend.position="none") + geom_vline(xintercept = k, color = 'brown')
k = c(as.numeric(as.POSIXct(60 * 60 * 8, origin="2016-04-22", za="GMT")), as.numeric(as.POSIXct(60 * 60 * 12.75, origin="2016-04-22", za="GMT")))
ggplot(subset(df, dayOfWeek != 'Total'), aes(x=hourmin, y = value, color = dayOfWeek)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = c('12', '6am', 'noon', '6pm', '12'))+ labs(x="Time of Day", y="Number of Babies", title = "Babies born in 2014, by minute and day of week") + scale_y_continuous(expand = c(0, 0), limits =c(0,1200))  + theme(axis.text=element_text(size=18), title=element_text(size=24)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 20)) + scale_color_manual(values = c('#8B4513','#8B4513','#8B4513','#8B4513','#8B4513', 'steelblue','steelblue'))+ theme(legend.position="none") + geom_vline(xintercept = k, color = 'brown')
k = c(as.numeric(as.POSIXct(60 * 60 * 8, origin="2016-04-22", za="GMT")))
ggplot(subset(df, dayOfWeek != 'Total'), aes(x=hourmin, y = value, color = dayOfWeek)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = c('12', '6am', 'noon', '6pm', '12'))+ labs(x="Time of Day", y="Number of Babies", title = "Babies born in 2014, by minute and day of week") + scale_y_continuous(expand = c(0, 0), limits =c(0,1200))  + theme(axis.text=element_text(size=18), title=element_text(size=24)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 20)) + scale_color_manual(values = c('#8B4513','#8B4513','#8B4513','#8B4513','#8B4513', 'steelblue','steelblue'))+ theme(legend.position="none") + geom_vline(xintercept = k, color = 'brown')
df <- getData('csection.csv')
plotBabyData("Babies born by C-Section")
df <- getData('induced.csv')
plotBabyData("Babies born that were Induced")
df <- getData('induced.csv')
plotBabyData("Babies born that were Induced")
df <- getData('vaginalNoINDL.csv')
plotBabyData("Neither C-section Nor Induced")
