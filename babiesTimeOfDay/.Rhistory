ggplot(subset(df, date > '1985-01-01' & date < '1985-02-01'), aes(x = date, y = count)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'date') + scale_x_date(limits = c(as.Date('1985-01-01'),as.Date('1985-02-01'), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(df$count)*1.1))
)
ggplot(subset(df, date > '1985-01-01' & date < '1985-02-01'), aes(x = date, y = count)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'date') + scale_x_date(limits = c(as.Date('1985-01-01'),as.Date('1985-02-01')), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(df$count)*1.1))
ggplot(subset(df, date > '1985-01-01' & date < '1986-01-01'), aes(x = date, y = count)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'date') + scale_x_date(limits = c(as.Date('1985-01-01'),as.Date('1985-02-01')), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(df$count)*1.1))
ggplot(subset(df, date > '1985-01-01' & date < '1986-01-01'), aes(x = date, y = count)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'date') + scale_x_date(limits = c(as.Date('1985-01-01'),as.Date('1986-01-01')), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(df$count)*1.1))
df %>% group_by(week = cut(date, "week")) %>% mutate(weekly_counts = sum(count))
df %>% group_by(week = cut(date, "week")) %>% summarise(weekly_counts = sum(count))
grouped = df %>% group_by(week = cut(date, "week")) %>% summarise(weekly_counts = sum(count))
str(grouped)
ggplot(subset(grouped, week > '1985-01-01' & week < '1986-01-01'), aes(x = week, y = weekly_counts)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_x_date(limits = c(as.Date('1985-01-01'),as.Date('1986-01-01')), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(grouped$weekly_counts)*1.1))
ggplot(grouped, aes(x = week, y = weekly_counts)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_x_date(limits = c(as.Date('1985-01-01'),as.Date('1986-01-01')), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(grouped$weekly_counts)*1.1))
ggplot(grouped, aes(x = week, y = weekly_counts)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week')  +  scale_y_continuous(limits = c(0, max(grouped$weekly_counts)*1.1))
ggplot(grouped, aes(x = week, y = weekly_counts)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week')
n
grouped
str(grouped)
as.dataframe(grouped)
data.frame(grouped)
ggplot(data.frame(grouped), aes(x = week, y = weekly_counts)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_x_date(limits = c(as.Date('1985-01-01'),as.Date('1986-01-01')), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(grouped$weekly_counts)*1.1))
ggplot(data.frame(grouped), aes(x = week, y = weekly_counts)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') +  scale_y_continuous(limits = c(0, max(grouped$weekly_counts)*1.1))
n
head(data.frame(grouped))
ggplot(data.frame(grouped), aes(x = week, y = weekly_counts)) + geom_line() + theme_bw()
n
str(data.frame(grouped))
grouped = df %>% group_by(week = as.Date(cut(date, "week"))) %>% summarise(weekly_counts = sum(count))
str(data.frame(grouped))
ggplot(data.frame(grouped), aes(x = week, y = weekly_counts)) + geom_line() + theme_bw()
ggplot(data.frame(grouped), aes(x = week, y = weekly_counts)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_x_date(limits = c(as.Date('1985-01-01'),as.Date('1986-01-01')), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(grouped$weekly_counts)*1.1))
ggplot(data.frame(grouped), aes(x = week, y = weekly_counts)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_x_date(limits = c(as.Date(min(df$date)),as.Date(max(df$date)-7)), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(grouped$weekly_counts)*1.1))
df$weekNum <- format(df$date, format = "%y%U")
df$year <- format(df$date, format = "%Y")
str(df)
df$weekNum <- format(df$date, format = "%U")
str(df)
head(df)
grouped2 = df %>% group_by(weekNum, year) %>% summarise(weekly_counts = sum(count))
ggplot(data.frame(grouped), aes(x = weekNum, y = weekly_counts), group = year) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_x_date(limits = c(as.Date(min(df$date)),as.Date(max(df$date)-7)), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(grouped$weekly_counts)*1.1))
ggplot(data.frame(grouped2), aes(x = weekNum, y = weekly_counts), group = year) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_x_date(limits = c(as.Date(min(df$date)),as.Date(max(df$date)-7)), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(grouped$weekly_counts)*1.1))
ggplot(data.frame(grouped2), aes(x = weekNum, y = weekly_counts), group = year) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_x_date(limits = c(as.Date(min(df$date)),as.Date(max(df$date)-7)), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(grouped2$weekly_counts)*1.1))
ggplot(data.frame(grouped2), aes(x = weekNum, y = weekly_counts), group = year) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') +  scale_y_continuous(limits = c(0, max(grouped2$weekly_counts)*1.1))
ggplot(data.frame(grouped2), aes(x = weekNum, y = weekly_counts, group = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') +  scale_y_continuous(limits = c(0, max(grouped2$weekly_counts)*1.1))
ggplot(data.frame(grouped2), aes(x = weekNum, y = weekly_counts, group = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week')
ggplot(subset(data.frame(grouped2), weekNum > 0 & weekNum < 53), aes(x = weekNum, y = weekly_counts, group = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week')
ggplot(subset(data.frame(grouped2), as.numeric(weekNum) > 0 & as.numeric(weekNum) < 53), aes(x = weekNum, y = weekly_counts, group = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week')
ggplot(subset(data.frame(grouped2), as.numeric(weekNum) > 0 & as.numeric(weekNum) < 52), aes(x = weekNum, y = weekly_counts, group = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week')
ggplot(subset(data.frame(grouped2), as.numeric(weekNum) > 0 & as.numeric(weekNum) < 52), aes(x = weekNum, y = weekly_counts, group = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_y_continuous(limits = c(0, max(grouped2$weekly_counts)*1.1))
ggplot(subset(data.frame(grouped2), as.numeric(weekNum) > 0 & as.numeric(weekNum) < 52), aes(x = weekNum, y = weekly_counts, color = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_y_continuous(limits = c(0, max(grouped2$weekly_counts)*1.1))
ggplot(subset(data.frame(grouped2), as.numeric(weekNum) > 0 & as.numeric(weekNum) < 52), aes(x = weekNum, y = weekly_counts, fill = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_y_continuous(limits = c(0, max(grouped2$weekly_counts)*1.1))
ggplot(subset(data.frame(grouped2), as.numeric(weekNum) > 0 & as.numeric(weekNum) < 52), aes(x = weekNum, y = weekly_counts, color = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_y_continuous(limits = c(0, max(grouped2$weekly_counts)*1.1))
ggplot(subset(data.frame(grouped2), as.numeric(weekNum) > 0 & as.numeric(weekNum) < 52), aes(x = weekNum, y = weekly_counts, group = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_y_continuous(limits = c(0, max(grouped2$weekly_counts)*1.1))
ggplot(subset(data.frame(grouped2), as.numeric(weekNum) > 0 & as.numeric(weekNum) < 52), aes(x = weekNum, y = weekly_counts, group = year, color = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_y_continuous(limits = c(0, max(grouped2$weekly_counts)*1.1))
grouped2 = df %>% group_by(weekNum, year) %>% summarise(weekly_counts = sum(count))
df <- read.csv('Documents/dataViz/seasonality/births/dailyUSbirths.csv', header = TRUE, as.is = TRUE)
df$date <- as.Date(paste(df$year, df$month, df$day, sep = "-"), format = "%Y-%m-%d")
df <- na.omit(df)
ggplot(df, aes(x = date, y = count)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'date') + scale_x_date(limits = c(min(df$date), max(df$date)), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(df$count)*1.1))
# just 1985
ggplot(subset(df, date > '1985-01-01' & date < '1986-01-01'), aes(x = date, y = count)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'date') + scale_x_date(limits = c(as.Date('1985-01-01'),as.Date('1986-01-01')), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(df$count)*1.1))
# weeks instead of days
grouped = df %>% group_by(week = as.Date(cut(date, "week"))) %>% summarise(weekly_counts = sum(count))
ggplot(data.frame(grouped), aes(x = week, y = weekly_counts)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_x_date(limits = c(as.Date(min(df$date)),as.Date(max(df$date)-7)), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(grouped$weekly_counts)*1.1))
ggplot(subset(data.frame(grouped2), as.numeric(weekNum) > 0 & as.numeric(weekNum) < 52), aes(x = weekNum, y = weekly_counts, group = year, color = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_y_continuous(limits = c(0, max(grouped2$weekly_counts)*1.1))grouped2 = df %>% group_by(weekNum, year) %>% summarise(weekly_counts = sum(count))
grouped2 = df %>% group_by(weekNum, year) %>% summarise(weekly_counts = sum(count))
grouped2 = df %>% group_by(weekNum, year) %>% summarise(weekly_counts = sum(count))
ggplot(subset(data.frame(grouped2), as.numeric(weekNum) > 0 & as.numeric(weekNum) < 52), aes(x = weekNum, y = weekly_counts, group = year, color = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_y_continuous(limits = c(0, max(grouped2$weekly_counts)*1.1))grouped2 = df %>% group_by(weekNum, year) %>% summarise(weekly_counts = sum(count))
grouped2 = df %>% group_by(weekNum, year) %>% summarise(weekly_counts = sum(count))
df$weekNum <- format(df$date, format = "%U")
ggplot(subset(data.frame(grouped2), as.numeric(weekNum) > 0 & as.numeric(weekNum) < 52), aes(x = weekNum, y = weekly_counts, group = year, color = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_y_continuous(limits = c(0, max(grouped2$weekly_counts)*1.1))grouped2 = df %>% group_by(weekNum, year) %>% summarise(weekly_counts = sum(count))
df$weekNum <- format(df$date, format = "%U")
grouped2 = df %>% group_by(weekNum, year) %>% summarise(weekly_counts = sum(count))
ggplot(subset(data.frame(grouped2), as.numeric(weekNum) > 0 & as.numeric(weekNum) < 52), aes(x = weekNum, y = weekly_counts, group = year, color = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_y_continuous(limits = c(0, max(grouped2$weekly_counts)*1.1))grouped2 = df %>% group_by(weekNum, year) %>% summarise(weekly_counts = sum(count))
ggplot(subset(data.frame(grouped2), as.numeric(weekNum) > 0 & as.numeric(weekNum) < 52), aes(x = weekNum, y = weekly_counts, group = year, color = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_y_continuous(limits = c(0, max(grouped2$weekly_counts)*1.1))grouped2 = df %>% group_by(weekNum, year) %>% summarise(weekly_counts = sum(count))
ggplot(subset(data.frame(grouped2), as.numeric(weekNum) > 0 & as.numeric(weekNum) < 52), aes(x = weekNum, y = weekly_counts, group = year, color = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_y_continuous(limits = c(0, max(grouped2$weekly_counts)*1.1))grouped2 = df %>% group_by(weekNum, year) %>% summarise(weekly_counts = sum(count))
ggplot(subset(data.frame(grouped2), as.numeric(weekNum) > 0 & as.numeric(weekNum) < 52), aes(x = weekNum, y = weekly_counts, group = year, color = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_y_continuous(limits = c(0, max(grouped2$weekly_counts)*1.1))
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/short.txt', header = TRUE, sep = " ")
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
ggplot(temp, aes(x = Date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea")
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/short.txt', header = TRUE, sep = " ")
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
ggplot(temp, aes(x = date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea")
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/short.txt', header = TRUE, sep = " ")
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
ggplot(temp, aes(x = date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + theme(text = element_text(size=20))
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/short.txt', header = TRUE, sep = " ")
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
ggplot(temp, aes(x = date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + theme(text = element_text(size=20, family="Helvetica-Narrow"))
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/short.txt', header = TRUE, sep = " ")
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
ggplot(temp, aes(x = date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + theme(text = element_text(size=20, family="Humor Sans"))
install.packages("extrafont")
library(extrafont)
font_import()
font_import('CM Roman')
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/short.txt', header = TRUE, sep = " ")
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
ggplot(temp, aes(x = date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + theme(text = element_text(size=20, family="Helvetica"))
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/short.txt', header = TRUE, sep = " ")
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
ggplot(temp, aes(x = date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + theme(text = element_text(size=20, family="Comic Sans"))
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/short.txt', header = TRUE, sep = " ")
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
ggplot(temp, aes(x = date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + theme(text = element_text(size=20, family="CM Roman"))
font_import()
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/short.txt', header = TRUE, sep = " ")
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
ggplot(temp, aes(x = date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + theme(text = element_text(size=20, family="CM Roman"))
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/short.txt', header = TRUE, sep = " ")
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
ggplot(temp, aes(x = date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + theme(text = element_text(size=20, family="Helvetica"))
df <- read.csv('Documents/dataViz/seasonality/births/dailyUSbirths.csv', header = TRUE, as.is = TRUE)
df$date <- as.Date(paste(df$year, df$month, df$day, sep = "-"), format = "%Y-%m-%d")
df <- na.omit(df)
ggplot(df, aes(x = date, y = count)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'date') + scale_x_date(limits = c(min(df$date), max(df$date)), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(df$count)*1.1))
# just 1985
ggplot(subset(df, date > '1985-01-01' & date < '1986-01-01'), aes(x = date, y = count)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'date') + scale_x_date(limits = c(as.Date('1985-01-01'),as.Date('1986-01-01')), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(df$count)*1.1))
# weeks instead of days
y(week = as.Date(cut(date, "week"))) %>% summarise(weekly_counts = sum(count))
ggplot(data.frame(grouped), aes(x = week, y = weekly_counts)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_x_date(limits = c(as.Date(min(df$date)),as.Date(max(df$date)-7)), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(grouped$weekly_counts)*1.1))
df$weekNum <- format(df$date, format = "%U")
grouped2 = df %>% group_by(weekNum, year) %>% summarise(weekly_counts = sum(count))
ggplot(subset(data.frame(grouped2), as.numeric(weekNum) > 0 & as.numeric(weekNum) < 52), aes(x = weekNum, y = weekly_counts, group = year, color = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_y_continuous(limits = c(0, max(grouped2$weekly_counts)*1.1))
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/short.txt', header = TRUE, sep = " ")
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
ggplot(temp, aes(x = date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + theme(text = element_text(size=20, family="Helvetica"))
temp = read.table('Documents/dataViz/seasonality/c02/hourlyReadingsShort.txt', header = TRUE, sep = " ")
temp$datetime <- as.POSIXct(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
ggplot(temp, aes(x = hour, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + facet_wrap(~ date)
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/hourlyReadingsShort.txt', header = TRUE, sep = " ")
temp$datetime <- as.POSIXct(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
ggplot(temp, aes(x = hour, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + facet_wrap(~ date)
str(temp)
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/short.txt', header = TRUE, sep = " ")
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
ggplot(temp, aes(x = date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + theme(text = element_text(size=20, family="Helvetica"))
str(temp)
temp <- subset('date', 'value')
temp <- subset(select = c('date', 'value'))
str(temp)
temp <- subset(temp, select = c('date', 'value'))
str(temp)
require(ggplot2)
temp = read.table('Documents/dataViz/seasonality/c02/short.txt', header = TRUE, sep = " ")
temp$date <- as.Date(paste(temp$year, temp$month, temp$day, temp$hour, sep = "-"), format = "%Y-%m-%d-%H")
temp <- subset(temp, value != -999.99)
ggplot(temp, aes(x = date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + theme(text = element_text(size=20, family="Helvetica"))
temp <- subset(temp, select = c('date', 'value'))
ggplot(temp, aes(x = date, y = value)) + geom_line() + theme_bw() + labs(x="date", y="C02 measurement at Mauna Kea") + theme(text = element_text(size=20, family="Helvetica"))
write.csv('Documents/dataViz/seasonality/c02/simple.csv', quote = FALSE, row.names = FALSE)
write.csv(temp, 'Documents/dataViz/seasonality/c02/simple.csv', quote = FALSE, row.names = FALSE)
write.csv(temp, 'Documents/dataViz/seasonality/c02/c02Daily.csv', quote = FALSE, row.names = FALSE)
df <- read.csv('Documents/dataViz/seasonality/births/dailyUSbirths.csv', header = TRUE, as.is = TRUE)
df$date <- as.Date(paste(df$year, df$month, df$day, sep = "-"), format = "%Y-%m-%d")
df <- na.omit(df)
ggplot(df, aes(x = date, y = count)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'date') + scale_x_date(limits = c(min(df$date), max(df$date)), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(df$count)*1.1))
# just 1985
ggplot(subset(df, date > '1985-01-01' & date < '1986-01-01'), aes(x = date, y = count)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'date') + scale_x_date(limits = c(as.Date('1985-01-01'),as.Date('1986-01-01')), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(df$count)*1.1))
# weeks instead of days
str(df)
write.csv(subset(df, select = c('date', 'count')), 'Documents/dataViz/projects/884bb566c84775d92b3d/dailyUSBirths.csv', row.names = FALSE, quote = FALSE)
df <- read.csv('Downloads/sample_station_data/Daily/31587_San_Francisco_International_Airport__Daily_1993_1994.csv', header = TRUE, as.is = TRUE)
str(df)
df <- subset(df, select = c('Year.Local', 'Month.Local', 'Day.Local', 'Temperature.C...High'))
str(df)
df$date <- as.Date(paste(df$Year.Local, df$Month.Local, df$Day.Local, sep = "-"), format = "%Y-%m-%d")
str(df)
df <- subset(df, select = c('date', 'Temperature.C...High'))
str(df)
write(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/SFtempDaily.csv', row.names = FALSE, as.is = FALSE)
write(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/SFtempDaily.csv', row.names = FALSE, quote = FALSE)
write.csv(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/SFtempDaily.csv', row.names = FALSE, quote = FALSE)
df$TempF <- df$Temperature.C...High * 1.8 + 32
df <- subset(df, select = c('date', 'TempF'))
write.csv(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/SFtempDaily.csv', row.names = FALSE, quote = FALSE)
df <- read.csv('Downloads/sample_station_data/Daily/31587_San_Francisco_International_Airport__Daily_1993_1994.csv', header = TRUE, as.is = TRUE)
df$date <- as.Date(paste(df$Year.Local, df$Month.Local, df$Day.Local, sep = "-"), format = "%Y-%m-%d")
df$TempF <- df$Temperature.C...High * 1.8 + 32
df <- subset(df, select = c('date', 'TempF'))
write.csv(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/SFtempDaily.csv', row.names = FALSE, quote = FALSE)
df <- read.csv('Downloads/sample_station_data/Hourly/31587_San_Francisco_International_Airport__Daily_1993_1994.csv', header = TRUE, as.is = TRUE)
df <- read.csv('Downloads/sample_station_data/Hourly/AllYears/31587_San_Francisco_International_Airport__Hourly_1993_1994.csv', header = TRUE, as.is = TRUE)
df <- read.csv('Downloads/sample_station_data/Daily/31587_San_Francisco_International_Airport__Daily_1993_1994.csv', header = TRUE, as.is = TRUE)
df$date <- as.Date(paste(df$Year.Local, df$Month.Local, df$Day.Local, df$Hour.Local, sep = "-"), format = "%Y-%m-%d-%H")
df$TempF <- df$Temperature.C...High * 1.8 + 32
df <- subset(df, select = c('date', 'TempF'))
write.csv(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/SFtempHourly.csv', row.names = FALSE, quote = FALSE)
df <- read.csv('Downloads/sample_station_data/Hourly/AllYears/31587_San_Francisco_International_Airport__Hourly_1993_1994.csv', header = TRUE, as.is = TRUE)
df$date <- as.Date(paste(df$Year.Local, df$Month.Local, df$Day.Local, df$Hour.Local, sep = "-"), format = "%Y-%m-%d-%H")
df$TempF <- df$Temperature.C...High * 1.8 + 32
df <- subset(df, select = c('date', 'TempF'))
write.csv(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/SFtempHourly.csv', row.names = FALSE, quote = FALSE)
str(df)
df <- read.csv('Downloads/sample_station_data/Hourly/AllYears/31587_San_Francisco_International_Airport__Hourly_1993_1994.csv', header = TRUE, as.is = TRUE)
df$date <- as.Date(paste(df$Year.Local, df$Month.Local, df$Day.Local, df$Hour.Local, sep = "-"), format = "%Y-%m-%d-%H")
df$TempF <- df$Temperature..C * 1.8 + 32
df <- subset(df, select = c('date', 'TempF'))
write.csv(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/SFtempHourly.csv', row.names = FALSE, quote = FALSE)
str(df)
head(df)
df <- read.csv('Downloads/sample_station_data/Hourly/AllYears/31587_San_Francisco_International_Airport__Hourly_1993_1994.csv', header = TRUE, as.is = TRUE)
str(df)
df$date <- paste(df$Year.Local, df$Month.Local, df$Day.Local, df$Hour.Local, sep = "-")
str(df)
df <- read.csv('Downloads/sample_station_data/Hourly/AllYears/31587_San_Francisco_International_Airport__Hourly_1993_1994.csv', header = TRUE, as.is = TRUE)
df$date <- paste(df$Year.Local, df$Month.Local, df$Day.Local, df$Hour.Local, sep = "-")
df$TempF <- df$Temperature..C * 1.8 + 32
df <- subset(df, select = c('date', 'TempF'))
write.csv(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/SFtempHourly.csv', row.names = FALSE, quote = FALSE)
df <- read.csv('Downloads/sample_station_data/Hourly/AllYears/31587_San_Francisco_International_Airport__Hourly_1993_1994.csv', header = TRUE, as.is = TRUE)
df$date <- paste(df$Year.Local, df$Month.Local, df$Day.Local, df$Hour.Local, sep = "-")
df$TempF <- df$Temperature..C * 1.8 + 32
df <- na.omit(df)
df <- subset(df, select = c('date', 'TempF'))
write.csv(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/SFtempHourly.csv', row.names = FALSE, quote = FALSE)
df <- read.csv('Downloads/sample_station_data/Hourly/AllYears/31587_San_Francisco_International_Airport__Hourly_1993_1994.csv', header = TRUE, as.is = TRUE)
df$date <- paste(df$Year.Local, df$Month.Local, df$Day.Local, df$Hour.Local, sep = "-")
df$TempF <- df$Temperature..C * 1.8 + 32
df <- na.omit(df)
df <- subset(df, select = c('date', 'TempF'))
write.csv(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/SFtempHourly.csv', row.names = FALSE, quote = FALSE)
df <- read.csv('Downloads/sample_station_data/Hourly/AllYears/31587_San_Francisco_International_Airport__Hourly_1993_1994.csv', header = TRUE, as.is = TRUE)
df$date <- paste(df$Year.Local, df$Month.Local, df$Day.Local, df$Hour.Local, sep = "-")
df$TempF <- df$Temperature..C * 1.8 + 32
df <- subset(df, select = c('date', 'TempF'))
df <- na.omit(df)
write.csv(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/SFtempHourly.csv', row.names = FALSE, quote = FALSE)
df <- read.csv('Downloads/sample_station_data/Hourly/AllYears/30954_Dane_County_Regional_Airport__Hourly_1993_1994.csv', header = TRUE, as.is = TRUE)
df$date <- paste(df$Year.Local, df$Month.Local, df$Day.Local, df$Hour.Local, sep = "-")
df$TempF <- df$Temperature..C * 1.8 + 32
df <- subset(df, select = c('date', 'TempF'))
df <- na.omit(df)
write.csv(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/WisconsintempHourly.csv', row.names = FALSE, quote = FALSE)
df <- read.csv('Downloads/sample_station_data/Hourly/AllYears/30954_Dane_County_Regional_Airport__Hourly_1993_1994.csv', header = TRUE, as.is = TRUE)
df$date <- paste(df$Year.Local, df$Month.Local, df$Day.Local, df$Hour.Local, sep = "-")
df$TempF <- df$Temperature..C * 1.8 + 32
str(df)
df <- subset(df, select = c('date', 'Cloud.Cover.Fraction'))
df <- na.omit(df)
write.csv(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/WisconsinCloudHourly.csv', row.names = FALSE, quote = FALSE)
str(df)
df <- subset(df, Cloud.Cover.Fraction >= 0)
df <- subset(df, Cloud.Cover.Fraction <= 1)
write.csv(df, 'Documents/dataViz/projects/884bb566c84775d92b3d/WisconsinCloudHourly.csv', row.names = FALSE, quote = FALSE)
df <- read.csv('Documents/dataViz/seasonality/births/dailyUSbirths.csv', header = TRUE, as.is = TRUE)
df$date <- as.Date(paste(df$year, df$month, df$day, sep = "-"), format = "%Y-%m-%d")
df <- na.omit(df)
ggplot(df, aes(x = date, y = count)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'date') + scale_x_date(limits = c(min(df$date), max(df$date)), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(df$count)*1.1))
# just 1985
ggplot(subset(df, date > '1985-01-01' & date < '1986-01-01'), aes(x = date, y = count)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'date') + scale_x_date(limits = c(as.Date('1985-01-01'),as.Date('1986-01-01')), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(df$count)*1.1))
# weeks instead of days
grouped = df %>% group_by(week = as.Date(cut(date, "week"))) %>% summarise(weekly_counts = sum(count))
require(ggplot2)
require(dplyr)
require(ddply)
df <- read.csv('Documents/dataViz/seasonality/births/dailyUSbirths.csv', header = TRUE, as.is = TRUE)
df$date <- as.Date(paste(df$year, df$month, df$day, sep = "-"), format = "%Y-%m-%d")
df <- na.omit(df)
ggplot(df, aes(x = date, y = count)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'date') + scale_x_date(limits = c(min(df$date), max(df$date)), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(df$count)*1.1))
# just 1985
ggplot(subset(df, date > '1985-01-01' & date < '1986-01-01'), aes(x = date, y = count)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'date') + scale_x_date(limits = c(as.Date('1985-01-01'),as.Date('1986-01-01')), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(df$count)*1.1))
# weeks instead of days
grouped = df %>% group_by(week = as.Date(cut(date, "week"))) %>% summarise(weekly_counts = sum(count))
ggplot(data.frame(grouped), aes(x = week, y = weekly_counts)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_x_date(limits = c(as.Date(min(df$date)),as.Date(max(df$date)-7)), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(grouped$weekly_counts)*1.1))
df$weekNum <- format(df$date, format = "%U")
grouped2 = df %>% group_by(weekNum, year) %>% summarise(weekly_counts = sum(count))
ggplot(subset(data.frame(grouped2), as.numeric(weekNum) > 0 & as.numeric(weekNum) < 52), aes(x = weekNum, y = weekly_counts, group = year, color = year)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_y_continuous(limits = c(0, max(grouped2$weekly_counts)*1.1))
str(df)
df <- read.csv('Documents/dataViz/seasonality/births/dailyUSbirths.csv', header = TRUE, as.is = TRUE)
df$date <- as.Date(paste(df$year, df$month, df$day, sep = "-"), format = "%Y-%m-%d")
df <- na.omit(df)
ggplot(df, aes(x = date, y = count)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'date') + scale_x_date(limits = c(min(df$date), max(df$date)), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(df$count)*1.1))
ggplot(subset(df, date > '1985-01-01' & date < '1986-01-01'), aes(x = date, y = count)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'date') + scale_x_date(limits = c(as.Date('1985-01-01'),as.Date('1986-01-01')), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(df$count)*1.1))
# weeks instead of days
grouped = df %>% group_by(week = as.Date(cut(date, "week"))) %>% summarise(weekly_counts = sum(count))
ggplot(data.frame(grouped), aes(x = week, y = weekly_counts)) + geom_line() + theme_bw() + labs(y="number of births in US", x = 'week') + scale_x_date(limits = c(as.Date(min(df$date)),as.Date(max(df$date)-7)), expand=c(0, 0)) +  scale_y_continuous(limits = c(0, max(grouped$weekly_counts)*1.1))
write.csv(data.frame(grouped), 'Documents/dataViz/seasonality/births/weeklyData.csv', row.names = FALSE, quote = FALSE)
require(ggplot2)
setwd("/Users/zan")
gunData <- read.csv("learninghtml/webProjects/visualizeSTL/gunSalesWithDecData.csv", header = TRUE, as.is = TRUE)
gunDataLimited <- gunData[c("guns_total")]
require(ggplot2)
setwd("/Users/zan")
gunData <- read.csv("Documents/dataViz/projects/visualizeSTL/gunSalesWithDecData.csv", header = TRUE, as.is = TRUE)
gunDataLimited <- gunData[c("guns_total")]
str(gunDataLimited)
data.frame(grouped)
births <- subset(data.frame(grouped), select = c('weekly-counts')
)
births <- subset(data.frame(grouped), select = c('weekly-counts'))
head(data.frame(grouped))
births <- subset(data.frame(grouped), select = c('weekly_counts'))
str(births)
dfTS <- ts(births$weekly_counts, frequency = 52, start = c(1968, 12, 30))
str(dfTS)
output <- stl(dfTS, s.window=6, robust=TRUE)
plot(output)
output <- stl(dfTS, s.window=10, robust=TRUE)
plot(output)
output <- stl(dfTS, s.window=4, robust=TRUE)
plot(output)
output <- stl(dfTS, s.window=6, robust=TRUE)
plot(output)
write.csv(as.data.frame(output$time.series), "Documents/dataViz/projects/visualizeSTL/birthsWeekly.csv", quote = FALSE, row.names = FALSE))
write.csv(as.data.frame(output$time.series), "Documents/dataViz/projects/visualizeSTL/birthsWeekly.csv", quote = FALSE, row.names = FALSE)
df <- read.csv('Downloads/20794C20-E341-44F1-A808-FA5109877DAE_47208516623909.csv', header = TRUE, as.is = TRUE)
str(df)
df <- read.csv('Downloads/20794C20-E341-44F1-A808-FA5109877DAE_47209260373909.csv', header = TRUE, as.is = TRUE)
str(df)
head(Df)
head(df)
df <- na.omit(df)
head(df)
require(tidyr)
install.packages('tidyr')
require(tidyr)
test <- gather(df, day-of-week, value, Total:Saturday)
test <- gather(df, day-of-week, value, Total, Sunday, Monday, Tuesdsay, Wednesday, Thursday, Friday, Saturday)
test <- gather(df, dayOfWeek, value, Total, Sunday, Monday, Tuesdsay, Wednesday, Thursday, Friday, Saturday)
test <- gather(df, dayOfWeek, value, Total:Saturday)
str(test)
test2 <- cast(test, DOB_WK ~ dayOfWeek, sum)
require(reshape2)
test2 <- cast(test, DOB_WK ~ dayOfWeek, sum)
require(reshape\)
require(reshape)
install.packages(reshape)
install.packages('reshape')
require(reshape)
test2 <- cast(test, DOB_WK ~ dayOfWeek, sum)
str(test2)
head(test2)
str(test)
test3 <- gather(test2, dayOfWeek, value, Friday:Wednesday)
str(test3)
ggplot(test3, aes(x=DOB_WK, y = value)) + geom_point()
test3$time <- as.numeric((test3$DOB_WK))
str(test3)
unique(test4$DOB_WK)
unique(test3$DOB_WK)
unique(test3$time)
unique(test3$DOB_WK)
unique(test3$time)
ggplot(test3, aes(x=time, y = value)) + geom_point()
test3 <- na.omit(test3)
ggplot(test3, aes(x=time, y = value)) + geom_point()
ggplot(test3, aes(x=time, y = value)) + geom_point() + facet_wrap( ~ dayOfWeek)
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=time, y = value)) + geom_point() + facet_wrap( ~ dayOfWeek)
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=time, y = value)) + geom_point() + facet_wrap( ~ dayOfWeek) + theme_bw()
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=time, y = value)) + geom_point() + facet_wrap( ~ dayOfWeek) + theme_bw()
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=time, y = value)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek) + theme_bw()
require(lubridate)
str(test3)
test3$hourmin <- hm(test3$DOB_WK)
str(test3)
test3 <- na.omit(test3)
str(test3)
test3 <- gather(test2, dayOfWeek, value, Friday:Wednesday)
str(test3)
test3 <- subset(test3, DOW_WK != 'Not stated')
test3 <- subset(test3, DOB_WK != 'Not stated')
test3 <- subset(test3, DOB_WK != 'Not on certificate')
test3 <- subset(test3, DOB_WK != 'Total')
test3$hourmin <- hm(test3$DOB_WK)
str(test3)
head(test3)
test3$hourmin <- strptime(test3$DOB_WK, '%H%M')
str(test3)
head(test3)
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek) + theme_bw()
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek) + theme_bw() + scale_x_date(date_labels = "%H %M")
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek) + theme_bw() + scale_x_date(date_labels = "%H%M")
head(test3)
str(test3)
test3$hourmin <- as.Date(test3$hourmin)
str(test3)
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek) + theme_bw() + scale_x_date(date_labels = "%H%M")
test3$hourmin <- strptime(test3$DOB_WK, '%H%M')
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek) + theme_bw() + scale_x_datetime(date_labels = "%H%M")
test3$hourmin <- paste(substr(test3$DOB_WK, 1, 2), substr(test3$DOB_WK, 3,4), sep = "-")
head(test3)
test3$hourmin <- hm(test3$hourmin)
head(test3)
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek) + theme_bw() + scale_x_datetime(date_labels = "%H%M")
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek) + theme_bw()
test3$hourmin <- as.POSIXct(test3$hourmin, format = "%H:%M")
str(test3)
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek) + theme_bw()
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek) + theme_bw() + scale_x_datetime(date_labels = "%H%M")
test3$hourmin <- strptime(test3$DOB_WK, '%H%M')
str(test3)
test3$hourmin <- strptime(test3$DOB_WK, '%H%M', tz="GMT")
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek) + theme_bw() + scale_x_datetime(date_labels = "%H%M")
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="time of day, 0000 to 2400")
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="time of day", y="number of babies born")
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="time of day", y="number of babies born", title = "Number of Babies born in 2014 by day of week and minute/second")
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="time of day", y="number of babies born", title = "Number of Babies born in 2014 by day of week and minute of day")
test3$dayOfWeek <- factor(test3$dayOfWeek,
levels = c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"))
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="time of day", y="number of babies born", title = "Number of Babies born in 2014 by day of week and minute of day")
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies Born", title = "Babies born in 2014")
str(test3)
max(test3$value)
test3 <- subset(test3, dayOfWeek != 'Total')
max(test3$value)
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies Born", title = "Babies born in 2014") + coord_cartesian(ylim=c(0,1100))
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies Born", title = "Babies born in 2014") + coord_cartesian(ylim=c(0,1100))
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies Born", title = "Babies born in 2014") + coord_cartesian(ylim=c(0,1100)) + geom_vline(xintercept = 0900)
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies Born", title = "Babies born in 2014") + coord_cartesian(ylim=c(0,1100)) + geom_vline(xintercept = "2016-03-27 00:09:00")
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies Born", title = "Babies born in 2014") + coord_cartesian(ylim=c(0,1100)) + geom_vline(xintercept = "2016-03-27 00:09:00")
str(test3)
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies Born", title = "Babies born in 2014") + coord_cartesian(ylim=c(0,1100)) + geom_vline(xintercept = "2016-03-27 00:09:00") + theme(axis.text=element_text(size=12), axis.title=element_text(size=14,face="bold"))
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies Born", title = "Babies born in 2014") + coord_cartesian(ylim=c(0,1100)) + geom_vline(xintercept = "2016-03-27 00:09:00") + theme(axis.text=element_text(size=12), axis.title=element_text(size=14))
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies Born", title = "Babies born in 2014") + coord_cartesian(ylim=c(0,1100)) + theme(axis.text=element_text(size=14), axis.title=element_text(size=18))
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3) + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies Born", title = "Babies born in 2014") + coord_cartesian(ylim=c(0,1100)) + theme(axis.text=element_text(size=14), title=element_text(size=18))
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3, color = steelblue) + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies Born", title = "Babies born in 2014") + coord_cartesian(ylim=c(0,1100)) + theme(axis.text=element_text(size=14), title=element_text(size=18))
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3, color = 'steelblue') + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies Born", title = "Babies born in 2014") + coord_cartesian(ylim=c(0,1100)) + theme(axis.text=element_text(size=14), title=element_text(size=18))
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .4, color = 'steelblue') + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies Born", title = "Babies born in 2014") + coord_cartesian(ylim=c(0,1100)) + theme(axis.text=element_text(size=14), title=element_text(size=18))
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3, color = 'steelblue') + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies Born", title = "Babies born in 2014") + coord_cartesian(ylim=c(0,1100)) + theme(axis.text=element_text(size=14), title=element_text(size=18))
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3, color = 'steelblue') + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies Born", title = "Babies born in 2014") + coord_cartesian(ylim=c(0,1100)) + theme(axis.text=element_text(size=14), title=element_text(size=18)) + theme(panel.margin = unit(2, "lines"))
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3, color = 'steelblue') + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies Born", title = "Babies born in 2014") + coord_cartesian(ylim=c(0,1100)) + theme(axis.text=element_text(size=14), title=element_text(size=18)) + theme(panel.margin = unit(1.2, "lines"))
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3, color = 'steelblue') + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies Born", title = "Babies born in 2014") + coord_cartesian(ylim=c(0,1100)) + theme(axis.text=element_text(size=14), title=element_text(size=18)) + theme(panel.margin = unit(1.4, "lines"))
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3, color = 'steelblue') + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies Born", title = "Babies born in 2014") + coord_cartesian(ylim=c(0,1100)) + theme(axis.text=element_text(size=14), title=element_text(size=18)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 12, colour = "orange", angle = 90))
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3, color = 'steelblue') + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies Born", title = "Babies born in 2014") + coord_cartesian(ylim=c(0,1100)) + theme(axis.text=element_text(size=14), title=element_text(size=18)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 12))
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3, color = 'steelblue') + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies Born", title = "Babies born in 2014") + coord_cartesian(ylim=c(0,1100)) + theme(axis.text=element_text(size=14), title=element_text(size=18)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 14))
df <- read.csv('Downloads/20794C20-E341-44F1-A808-FA5109877DAE_47209260373909.csv', header = TRUE, as.is = TRUE)
test3 <- na.omit(test3)
test2 <- cast(test, DOB_WK ~ dayOfWeek, sum)
test3 <- gather(test2, dayOfWeek, value, Friday:Wednesday)
test3 <- subset(test3, DOW_WK != 'Not stated')
test3 <- subset(test3, DOB_WK != 'Not stated')
test3 <- subset(test3, DOB_WK != 'Not on certificate')
test3 <- subset(test3, DOB_WK != 'Total')
test3$hourmin <- strptime(test3$DOB_WK, '%H%M', tz="GMT")
test3$dayOfWeek <- factor(test3$dayOfWeek,
levels = c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"))
test3 <- subset(test3, dayOfWeek != 'Total')
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3, color = 'steelblue') + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies Born", title = "Babies born in 2014") + coord_cartesian(ylim=c(0,1100)) + theme(axis.text=element_text(size=14), title=element_text(size=18)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 14))
df <- read.csv('20794C20-E341-44F1-A808-FA5109877DAE_47209260373909.csv', header = TRUE, as.is = TRUE)
df <- na.omit(df)
df <- cast(df, DOB_WK ~ dayOfWeek, sum)
test3 <- gather(df, dayOfWeek, value, Friday:Wednesday)
test3 <- subset(test3, DOB_WK != 'Not stated')
test3 <- subset(test3, DOB_WK != 'Not on certificate')
test3 <- subset(test3, DOB_WK != 'Total')
test3$hourmin <- strptime(test3$DOB_WK, '%H%M', tz="GMT")
test3$dayOfWeek <- factor(test3$dayOfWeek,
levels = c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"))
test3 <- subset(test3, dayOfWeek != 'Total')
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3, color = 'steelblue') + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies Born", title = "Babies born in 2014") + coord_cartesian(ylim=c(0,1100)) + theme(axis.text=element_text(size=14), title=element_text(size=18)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 14))
setwd("Documents/dataViz/everything-is-seasonal/babiesTimeOfDay/")
df <- read.csv('20794C20-E341-44F1-A808-FA5109877DAE_47209260373909.csv', header = TRUE, as.is = TRUE)
df <- na.omit(df)
df <- cast(df, DOB_WK ~ dayOfWeek, sum)
test3 <- gather(df, dayOfWeek, value, Friday:Wednesday)
test3 <- subset(test3, DOB_WK != 'Not stated')
test3 <- subset(test3, DOB_WK != 'Not on certificate')
test3 <- subset(test3, DOB_WK != 'Total')
test3$hourmin <- strptime(test3$DOB_WK, '%H%M', tz="GMT")
test3$dayOfWeek <- factor(test3$dayOfWeek,
levels = c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"))
test3 <- subset(test3, dayOfWeek != 'Total')
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3, color = 'steelblue') + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies Born", title = "Babies born in 2014") + coord_cartesian(ylim=c(0,1100)) + theme(axis.text=element_text(size=14), title=element_text(size=18)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 14))
df <- read.csv('20794C20-E341-44F1-A808-FA5109877DAE_47209260373909.csv', header = TRUE, as.is = TRUE)
df <- na.omit(df)
str(df)
test <- gather(df, dayOfWeek, value, Total:Saturday)df <- read.csv('20794C20-E341-44F1-A808-FA5109877DAE_47209260373909.csv', header = TRUE, as.is = TRUE)
test <- gather(df, dayOfWeek, value, Total:Saturday)
df <- read.csv('20794C20-E341-44F1-A808-FA5109877DAE_47209260373909.csv', header = TRUE, as.is = TRUE)
test <- gather(df, dayOfWeek, value, Total:Saturday)
str(test)
df <- read.csv('20794C20-E341-44F1-A808-FA5109877DAE_47209260373909.csv', header = TRUE, as.is = TRUE)
df <- gather(df, dayOfWeek, value, Total:Saturday)
df <- na.omit(df)
df <- cast(df, DOB_WK ~ dayOfWeek, sum)
test3 <- gather(df, dayOfWeek, value, Friday:Wednesday)
test3 <- subset(test3, DOB_WK != 'Not stated')
test3 <- subset(test3, DOB_WK != 'Not on certificate')
test3 <- subset(test3, DOB_WK != 'Total')
test3$hourmin <- strptime(test3$DOB_WK, '%H%M', tz="GMT")
test3$dayOfWeek <- factor(test3$dayOfWeek,
levels = c("Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"))
test3 <- subset(test3, dayOfWeek != 'Total')
ggplot(subset(test3, dayOfWeek != 'Total'), aes(x=hourmin, y = value)) + geom_point(alpha = .3, color = 'steelblue') + facet_wrap( ~ dayOfWeek, nrow = 2) + theme_bw() + scale_x_datetime(date_labels = "%H%M") + labs(x="Time of Day", y="Number of Babies Born", title = "Babies born in 2014") + coord_cartesian(ylim=c(0,1100)) + theme(axis.text=element_text(size=14), title=element_text(size=18)) + theme(panel.margin = unit(1.4, "lines"), strip.text.x = element_text(size = 14))
